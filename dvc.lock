schema: '2.0'
stages:
  data_ingestion:
    cmd: python ./src/data/data_ingestion.py
    deps:
    - path: ./src/data/data_ingestion.py
      hash: md5
      md5: c6156bd4257ea97c79d756eed8cbc0b0
      size: 3609
  extract_features:
    cmd: python ./src/features/extract_features.py
    deps:
    - path: ./src/features/extract_features.py
      hash: md5
      md5: 32aedd99d71c7bb36ebd56a2ddda2be3
      size: 4688
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 22
    outs:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 9c4ae3b841aee233c4f3fbeaa31223e2
      size: 8439052
    - path: ./models/mb_kmeans.joblib
      hash: md5
      md5: 7b4e82921166cb538b78653745f36e48
      size: 143771
    - path: ./models/scaler.joblib
      hash: md5
      md5: 70e5f14cbcc882d077c64376f4ce3e83
      size: 951
  feature_processing:
    cmd: python ./src/features/feature_processing.py
    deps:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 9c4ae3b841aee233c4f3fbeaa31223e2
      size: 8439052
    - path: ./src/features/feature_processing.py
      hash: md5
      md5: 2882591ff2ac677243a27800cb9e8382
      size: 2354
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 172fafe9f67d6aec2989422d887002df
      size: 4946456
    - path: ./data/processed/train.csv
      hash: md5
      md5: 00008352ae6e5521c1e0052359e44fad
      size: 9528802
  train:
    cmd: python ./src/models/train.py
    deps:
    - path: ./data/processed/train.csv
      hash: md5
      md5: 00008352ae6e5521c1e0052359e44fad
      size: 9528802
    - path: ./src/models/train.py
      hash: md5
      md5: 3e0ab66e3b0b5808ae51e4ef7b97731b
      size: 2239
    outs:
    - path: ./models/encoder.joblib
      hash: md5
      md5: f54a9a22782e7f8dc2721929d292f2b1
      size: 3207
    - path: ./models/model.joblib
      hash: md5
      md5: 6c93e1c29a3abd17c0b0ff0f124034ca
      size: 2153
  evaluate:
    cmd: python ./src/models/evaluate.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 172fafe9f67d6aec2989422d887002df
      size: 4946456
    - path: ./data/processed/train.csv
      hash: md5
      md5: 00008352ae6e5521c1e0052359e44fad
      size: 9528802
    - path: ./models/encoder.joblib
      hash: md5
      md5: f54a9a22782e7f8dc2721929d292f2b1
      size: 3207
    - path: ./models/model.joblib
      hash: md5
      md5: 6c93e1c29a3abd17c0b0ff0f124034ca
      size: 2153
    - path: ./src/models/evaluate.py
      hash: md5
      md5: 39ea2ed6ad6a4c228ef3a22dc7a33131
      size: 4244
    outs:
    - path: ./run_information.json
      hash: md5
      md5: 68b3335221fedaef229defb5249a73c0
      size: 175
  register_model:
    cmd: python ./src/models/register_model.py
    deps:
    - path: ./run_information.json
      hash: md5
      md5: 68b3335221fedaef229defb5249a73c0
      size: 175
    - path: ./src/models/register_model.py
      hash: md5
      md5: 1a53bd892150feda5e2e8131062ed3c1
      size: 2420
